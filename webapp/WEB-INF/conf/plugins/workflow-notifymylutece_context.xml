<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
	<!-- DAO -->
	<bean id="workflow-notifymylutece.taskNotifyMyLuteceConfigDAO" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.TaskNotifyMyLuteceConfigDAO"/>
	<bean id="workflow-notifymylutece.notificationTypeDAO" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.notification.NotificationTypeDAO"/>
	<bean id="workflow-notifymylutece.retrievalTypeDAO" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.retrieval.RetrievalTypeDAO"/>
	<bean id="workflow-notifymylutece.myLuteceUserGuidDAO" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.user.MyLuteceUserGuidDAO"/>

	<!-- Services -->
	<bean id="workflow-notifymylutece.taskNotifyMyLuteceConfigService" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.service.TaskNotifyMyLuteceConfigService"/>
	<bean id="workflow-notifymylutece.notifyMyLuteceService" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.service.NotifyMyLuteceService"/>
	<bean id="workflow-notifymylutece.notifyMyLuteceWebService" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.service.NotifyMyLuteceWebService"/>

	<!-- Tasks -->
	<bean id="workflow-notifymylutece.taskNotifyMyLutece" class="fr.paris.lutece.plugins.workflow.business.task.TaskType" >
		<property name="key" value="taskNotifyMyLutece" />
		<property name="titleI18nKey" value="module.workflow.notifymylutece.task_notify_mylutece_title" />
		<property name="className" value="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.TaskNotifyMyLutece"/>
	</bean>
	
	<!-- Notification type -->
	<bean id="workflow-notifymylutece.notificationTypeEmail" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.notification.NotificationTypeEmail">
		<property name="idType" value="1" />
		<property name="titleKey" value="module.workflow.notifymylutece.notification_type.email" />
	</bean>
	<bean id="workflow-notifymylutece.notificationTypeWS" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.notification.NotificationTypeWS">
		<property name="idType" value="2" />
		<property name="titleKey" value="module.workflow.notifymylutece.notification_type.ws" />
	</bean>
	<bean id="workflow-notifymylutece.notificationTypeFactory" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.notification.NotificationTypeFactory">
		<property name="notificationTypes">
			<map>
				<entry key="1" value-ref="workflow-notifymylutece.notificationTypeEmail" />
				<entry key="2" value-ref="workflow-notifymylutece.notificationTypeWS" />
			</map>
		</property>
	</bean>
	
	<!-- Retrieval type -->
	<bean id="workflow-notifymylutece.retrievalTypeDirectory" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.retrieval.RetrievalTypeDirectory">
		<property name="idType" value="1" />
		<property name="titleKey" value="module.workflow.notifymylutece.retrieval_type.directory" />
	</bean>
	<bean id="workflow-notifymylutece.retrievalTypeUsersList" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.retrieval.RetrievalTypeUsersList">
		<property name="idType" value="2" />
		<property name="titleKey" value="module.workflow.notifymylutece.retrieval_type.users_list" />
	</bean>
	<bean id="workflow-notifymylutece.retrievalTypeAllUsers" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.retrieval.RetrievalTypeAllUsers">
		<property name="idType" value="3" />
		<property name="titleKey" value="module.workflow.notifymylutece.retrieval_type.all_users" />
	</bean>
	<bean id="workflow-notifymylutece.retrievalTypeFactory" class="fr.paris.lutece.plugins.workflow.modules.notifymylutece.business.retrieval.RetrievalTypeFactory">
		<property name="retrievalTypes">
			<map>
				<entry key="1" value-ref="workflow-notifymylutece.retrievalTypeDirectory" />
				<entry key="2" value-ref="workflow-notifymylutece.retrievalTypeUsersList" />
				<entry key="3" value-ref="workflow-notifymylutece.retrievalTypeAllUsers" />
			</map>
		</property>
	</bean>
	
	<!-- SignRequest -->
    <bean id="workflow-notifymylutece.hashService" class="fr.paris.lutece.util.signrequest.security.Sha1HashService" />
    <bean id="workflow-notifymylutece.requestAuthenticator" class="fr.paris.lutece.util.signrequest.HeaderHashAuthenticator" >
        <property name="hashService" ref="workflow-notifymylutece.hashService" />
        <property name="signatureElements" > 
            <list>
            </list>
        </property>
        <property name="privateKey">
            <value>change me</value>
        </property>
    </bean>
</beans>
 	